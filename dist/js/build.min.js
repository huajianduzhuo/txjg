"use strict";var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),htmlE=document.documentElement,balls=[];function init(){var e=htmlE.offsetWidth,t=htmlE.offsetHeight;canvas.width=e,canvas.height=t}window.onresize=window.onload=init;var Ball=function(){function n(e,t,a){_classCallCheck(this,n),this.x=e,this.y=t,this.globalAlpha=1,this.color="rgb(255,192,203)",this.direct=a}return _createClass(n,[{key:"set",value:function(){this.x+=Math.cos(this.direct),this.y+=Math.sin(this.direct),0<this.globalAlpha?this.globalAlpha=this.globalAlpha-.005:this.globalAlpha=0}},{key:"paint",value:function(){this.globalAlpha<=0||(context.beginPath(),context.globalAlpha=this.globalAlpha,context.strokeStyle=this.color,context.arc(this.x,this.y,4,0,2*Math.PI,!0),context.stroke())}}]),n}();setInterval(function(){context.clearRect(0,0,canvas.width,canvas.height),balls.forEach(function(e){e.paint(),e.set()})},10),setInterval(function(){balls.forEach(function(e,t){e.globalAlpha<=0&&balls.splice(t,1)})},1e3);var moveCallback=function(e){var t=((e=e||window.event).target||e.srcElement).nodeName;if("LI"!==t&&"INPUT"!==t&&"A"!==t&&"BUTTON"!==t){var a=e.clientX,n=e.clientY;if("touchmove"===e.type&&1===e.changedTouches.length&&(a=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY),a){var l=2*Math.random()*Math.PI,s=new Ball(a,n,l);balls.push(s)}}};document.onmousemove=moveCallback,document.ontouchmove=moveCallback;var app=new Vue({el:"#app",data:{search:"",loading:!0,dramaSerial:[],dramaSerialIndex:0,searchResult:[]},methods:{handleSelect:function(e){this.dramaSerialIndex=e,$(".dramaSerialList dl").addClass("hide"),$(".dramaSerialList dl").eq(e).removeClass("hide")},handleSearch:function handleSearch(){if(this.searchResult=[],""!==this.search.trim()){var dds=$(".dramaSerialList dd"),dts=$(".dramaSerialList dt"),ids=[],resList=[],valueArr=this.search.split(""),searchResult=[];valueArr.forEach(function(value){dds.each(function(index,dd){var content=$(dd).text();if(0<=content.indexOf(value)){var i=content.indexOf(value);content=content.replace(eval("/"+value+"/g"),'<span class="result">'+value+"</span>");var title=dts.eq(index).text();if(ids.indexOf(index)<0){ids.push(index);var result={count:0,res:content,title:title,id:index};resList.push(result)}else{var _result=resList[ids.indexOf(index)];_result.count++;var res=_result.res;_result.res=res.replace(eval("/"+value+"/g"),'<span class="result">'+value+"</span>")}}})}),resList.sort(function(e,t){return t.count-e.count||e.id-t.id}),console.log(searchResult),resList.forEach(function(e){(valueArr.length<=2||e.count>=valueArr.length/2)&&searchResult.push(e)}),this.searchResult=searchResult}}},mounted:function(){var s=this;$.get("/load",function(e){for(var t=e.match(/<dd>/g).length,a=[],n=1;n<=t;n+=5)a.push(n+"-"+(t<n+4?t:n+4));s.dramaSerial=a;var l=$(e);l.find("dl").addClass("hide"),l.find("dl:first").removeClass("hide"),l.find("dt").each(function(e){this.id="til"+e}),$("#juqing").append(l),s.loading=!1})}});document.addEventListener("touchmove",function(e){e.cancelable&&(e.defaultPrevented||e.preventDefault())});
//# sourceMappingURL=build.min.js.map
