{"version":3,"sources":["texiao.js","txjg.js"],"names":["canvas","document","getElementById","context","getContext","htmlE","documentElement","balls","init","hw","offsetWidth","hh","offsetHeight","width","height","window","onresize","onload","Ball","x","y","direct","_classCallCheck","this","globalAlpha","color","Math","cos","sin","beginPath","strokeStyle","arc","PI","stroke","setInterval","clearRect","forEach","ball","paint","set","index","splice","moveCallback","event","node","target","srcElement","nodeName","mx","clientX","my","clientY","type","changedTouches","length","random","push","onmousemove","ontouchmove","app","Vue","el","data","search","loading","dramaSerial","dramaSerialIndex","searchResult","methods","handleSelect","$","addClass","eq","removeClass","handleSearch","trim","dds","dts","ids","resList","valueArr","split","value","each","dd","content","text","indexOf","i","replace","eval","title","result","count","res","id","sort","res1","res2","console","log","mounted","_this","get","match","Jdata","find","append","addEventListener","cancelable","defaultPrevented","preventDefault"],"mappings":"6XAAA,IAAMA,OAASC,SAASC,eAAe,UACjCC,QAAUH,OAAOI,WAAW,MAC5BC,MAAQJ,SAASK,gBACnBC,MAAQ,GAEZ,SAASC,OACP,IAAIC,EAAKJ,MAAMK,YACXC,EAAKN,MAAMO,aACfZ,OAAOa,MAAQJ,EACfT,OAAOc,OAASH,EAGlBI,OAAOC,SAAWD,OAAOE,OAAST,SAE5BU,gBACJ,SAAAA,EAAYC,EAAGC,EAAGC,GAAQC,gBAAAC,KAAAL,GACxBK,KAAKJ,EAAIA,EACTI,KAAKH,EAAIA,EACTG,KAAKC,YAAc,EACnBD,KAAKE,MAAQ,mBACbF,KAAKF,OAASA,qDAIdE,KAAKJ,GAAKO,KAAKC,IAAIJ,KAAKF,QACxBE,KAAKH,GAAKM,KAAKE,IAAIL,KAAKF,QACD,EAAnBE,KAAKC,YACPD,KAAKC,YAAcD,KAAKC,YAAc,KAEtCD,KAAKC,YAAc,kCAKjBD,KAAKC,aAAe,IAGxBrB,QAAQ0B,YACR1B,QAAQqB,YAAcD,KAAKC,YAC3BrB,QAAQ2B,YAAcP,KAAKE,MAC3BtB,QAAQ4B,IAAIR,KAAKJ,EAAGI,KAAKH,EAAG,EAAG,EAAa,EAAVM,KAAKM,IAAQ,GAC/C7B,QAAQ8B,mBAIZC,YAAY,WACV/B,QAAQgC,UAAU,EAAG,EAAGnC,OAAOa,MAAOb,OAAOc,QAC7CP,MAAM6B,QAAQ,SAAAC,GACZA,EAAKC,QACLD,EAAKE,SAEN,IAEHL,YAAY,WACV3B,MAAM6B,QAAQ,SAACC,EAAMG,GACfH,EAAKb,aAAe,GACtBjB,MAAMkC,OAAOD,EAAO,MAGvB,KAEH,IAAIE,aAAe,SAAAC,GAEjB,IACIC,IAFJD,EAAQA,GAAS5B,OAAO4B,OACLE,QAAUF,EAAMG,YACjBC,SAClB,GAAa,OAATH,GAA0B,UAATA,GAA6B,MAATA,GAAyB,WAATA,EAAzD,CAGA,IAAII,EAAKL,EAAMM,QACXC,EAAKP,EAAMQ,QAKf,GAJmB,cAAfR,EAAMS,MAAwD,IAAhCT,EAAMU,eAAeC,SACrDN,EAAKL,EAAMU,eAAe,GAAGJ,QAC7BC,EAAKP,EAAMU,eAAe,GAAGF,SAE1BH,EAAL,CAGA,IAAI3B,EAAyB,EAAhBK,KAAK6B,SAAe7B,KAAKM,GAClCK,EAAO,IAAInB,KAAK8B,EAAIE,EAAI7B,GAC5Bd,MAAMiD,KAAKnB,MAGbpC,SAASwD,YAAcf,aACvBzC,SAASyD,YAAchB,aCnFvB,IAAIiB,IAAM,IAAIC,IAAI,CAChBC,GAAI,OACJC,KAAM,CACJC,OAAQ,GACRC,SAAS,EACTC,YAAa,GACbC,iBAAkB,EAClBC,aAAc,IAEhBC,QAAS,CACPC,aADO,SACM7B,GACXjB,KAAK2C,iBAAmB1B,EACxB8B,EAAE,uBAAuBC,SAAS,QAClCD,EAAE,uBAAuBE,GAAGhC,GAAOiC,YAAY,SAEjDC,aANO,SAAAA,eAQL,GADAnD,KAAK4C,aAAe,GACO,KAAvB5C,KAAKwC,OAAOY,OAAhB,CAGA,IAAIC,IAAMN,EAAE,uBACRO,IAAMP,EAAE,uBACRQ,IAAM,GACNC,QAAU,GACVC,SAAWzD,KAAKwC,OAAOkB,MAAM,IAC7Bd,aAAe,GACnBa,SAAS5C,QAAQ,SAAC8C,OAChBN,IAAIO,KAAK,SAAC3C,MAAO4C,IACf,IAAIC,QAAUf,EAAEc,IAAIE,OACpB,GAA8B,GAA1BD,QAAQE,QAAQL,OAAa,CAC/B,IAAIM,EAAIH,QAAQE,QAAQL,OACxBG,QAAUA,QAAQI,QAAQC,KAAK,IAAMR,MAAQ,MAAO,wBAA4BA,MAAQ,WACxF,IAAIS,MAAQd,IAAIL,GAAGhC,OAAO8C,OAC1B,GAAIR,IAAIS,QAAQ/C,OAAS,EAAG,CAC1BsC,IAAItB,KAAKhB,OACT,IAAIoD,OAAS,CACXC,MAAO,EACPC,IAAKT,QACLM,MAAOA,MACPI,GAAIvD,OAENuC,QAAQvB,KAAKoC,YACR,CACL,IAAIA,QAASb,QAAQD,IAAIS,QAAQ/C,QACjCoD,QAAOC,QACP,IAAIC,IAAMF,QAAOE,IACjBF,QAAOE,IAAMA,IAAIL,QAAQC,KAAK,IAAMR,MAAQ,MAAO,wBAA4BA,MAAQ,iBAK/FH,QAAQiB,KAAK,SAACC,EAAMC,GAClB,OAAQA,EAAKL,MAAQI,EAAKJ,OAAWI,EAAKF,GAAKG,EAAKH,KAEtDI,QAAQC,IAAIjC,cACZY,QAAQ3C,QAAQ,SAAAwD,IACVZ,SAAS1B,QAAU,GAAKsC,EAAOC,OAAUb,SAAS1B,OAAS,IAC7Da,aAAaX,KAAKoC,KAGtBrE,KAAK4C,aAAeA,gBAGxBkC,QA/DgB,WA+DN,IAAAC,EAAA/E,KACR+C,EAAEiC,IAAI,QAAS,SAAAzC,GAGb,IAFA,IAAIR,EAASQ,EAAK0C,MAAM,SAASlD,OAC7BW,EAAc,GACTuB,EAAI,EAAGA,GAAKlC,EAAQkC,GAAK,EAChCvB,EAAYT,KAAQgC,EAApB,KAAiClC,EAAPkC,EAAE,EAAclC,EAAUkC,EAAE,IAExDc,EAAKrC,YAAcA,EACnB,IAAIwC,EAAQnC,EAAER,GACd2C,EAAMC,KAAK,MAAMnC,SAAS,QAC1BkC,EAAMC,KAAK,YAAYjC,YAAY,QACnCgC,EAAMC,KAAK,MAAMvB,KAAK,SAAUK,GAC9BjE,KAAKwE,GAAL,MAAgBP,IAElBlB,EAAE,WAAWqC,OAAOF,GACpBH,EAAKtC,SAAU,OAKrB/D,SAAS2G,iBAAiB,YAAa,SAAUjE,GAC3CA,EAAMkE,aAEHlE,EAAMmE,kBACTnE,EAAMoE","file":"build.min.js","sourcesContent":["const canvas = document.getElementById('canvas');\r\nconst context = canvas.getContext('2d');\r\nconst htmlE = document.documentElement;\r\nlet balls = [];\r\n\r\nfunction init() {\r\n  let hw = htmlE.offsetWidth;\r\n  let hh = htmlE.offsetHeight;\r\n  canvas.width = hw;\r\n  canvas.height = hh;\r\n}\r\n\r\nwindow.onresize = window.onload = init;\r\n\r\nclass Ball {\r\n  constructor(x, y, direct) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.globalAlpha = 1;\r\n    this.color = 'rgb(255,192,203)';\r\n    this.direct = direct;\r\n  }\r\n\r\n  set() {\r\n    this.x += Math.cos(this.direct);\r\n    this.y += Math.sin(this.direct);\r\n    if (this.globalAlpha > 0) {\r\n      this.globalAlpha = this.globalAlpha - 0.005;\r\n    } else {\r\n      this.globalAlpha = 0;\r\n    }\r\n  }\r\n\r\n  paint() {\r\n    if (this.globalAlpha <= 0) {\r\n      return;\r\n    }\r\n    context.beginPath();\r\n    context.globalAlpha = this.globalAlpha;\r\n    context.strokeStyle = this.color;\r\n    context.arc(this.x, this.y, 4, 0, Math.PI * 2, true);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nsetInterval(() => {\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n  balls.forEach(ball => {\r\n    ball.paint();\r\n    ball.set();\r\n  })\r\n}, 10);\r\n\r\nsetInterval(() => {\r\n  balls.forEach((ball, index) => {\r\n    if (ball.globalAlpha <= 0) {\r\n      balls.splice(index, 1);\r\n    }\r\n  })\r\n}, 1000);\r\n\r\nlet moveCallback = event => {\r\n  event = event || window.event;\r\n  let target = event.target || event.srcElement;\r\n  let node = target.nodeName;\r\n  if (node === 'LI' || node === 'INPUT' || node === 'A' || node === 'BUTTON') {\r\n    return;\r\n  }\r\n  let mx = event.clientX;\r\n  let my = event.clientY;\r\n  if (event.type === 'touchmove' && event.changedTouches.length === 1) {\r\n    mx = event.changedTouches[0].clientX;\r\n    my = event.changedTouches[0].clientY;\r\n  }\r\n  if (!mx) {\r\n    return;\r\n  }\r\n  let direct = Math.random() * 2 * Math.PI;\r\n  let ball = new Ball(mx, my, direct);\r\n  balls.push(ball);\r\n}\r\n\r\ndocument.onmousemove = moveCallback;\r\ndocument.ontouchmove = moveCallback;","let app = new Vue({\r\n  el: '#app',\r\n  data: {\r\n    search: '',\r\n    loading: true,\r\n    dramaSerial: [],\r\n    dramaSerialIndex: 0,\r\n    searchResult: []\r\n  },\r\n  methods: {\r\n    handleSelect(index) {\r\n      this.dramaSerialIndex = index\r\n      $('.dramaSerialList dl').addClass('hide')\r\n      $('.dramaSerialList dl').eq(index).removeClass('hide')\r\n    },\r\n    handleSearch() {\r\n      this.searchResult = []\r\n      if (this.search.trim() === '') {\r\n        return\r\n      }\r\n      let dds = $('.dramaSerialList dd')\r\n      let dts = $('.dramaSerialList dt')\r\n      let ids = []\r\n      let resList = []\r\n      let valueArr = this.search.split(\"\")\r\n      let searchResult = []\r\n      valueArr.forEach((value) => {\r\n        dds.each((index, dd) => {\r\n          let content = $(dd).text()\r\n          if (content.indexOf(value) >= 0) {\r\n            let i = content.indexOf(value);\r\n            content = content.replace(eval('/' + value + '/g'), \"<span class=\\\"result\\\">\" + value + \"</span>\")\r\n            let title = dts.eq(index).text()\r\n            if (ids.indexOf(index) < 0) {\r\n              ids.push(index)\r\n              let result = {\r\n                count: 0,\r\n                res: content,\r\n                title: title,\r\n                id: index\r\n              }\r\n              resList.push(result)\r\n            } else {\r\n              let result = resList[ids.indexOf(index)]\r\n              result.count++\r\n              let res = result.res\r\n              result.res = res.replace(eval('/' + value + '/g'), \"<span class=\\\"result\\\">\" + value + \"</span>\")\r\n            }\r\n          }\r\n        })\r\n      })\r\n      resList.sort((res1, res2) => {\r\n        return (res2.count - res1.count) || (res1.id - res2.id);\r\n      })\r\n      console.log(searchResult)\r\n      resList.forEach(result => {\r\n        if (valueArr.length <= 2 || result.count >= (valueArr.length / 2)) {\r\n          searchResult.push(result)\r\n        }\r\n      })\r\n      this.searchResult = searchResult\r\n    }\r\n  },\r\n  mounted() {\r\n    $.get('/load', data => {\r\n      let length = data.match(/<dd>/g).length\r\n      let dramaSerial = []\r\n      for (let i = 1; i <= length; i += 5) {\r\n        dramaSerial.push(`${i}-${(i+4) > length ? length : (i+4)}`)\r\n      }\r\n      this.dramaSerial = dramaSerial\r\n      let Jdata = $(data)\r\n      Jdata.find('dl').addClass('hide')\r\n      Jdata.find('dl:first').removeClass('hide')\r\n      Jdata.find('dt').each(function (i) {\r\n        this.id = `til${i}`\r\n      })\r\n      $('#juqing').append(Jdata)\r\n      this.loading = false\r\n    })\r\n  }\r\n})\r\n\r\ndocument.addEventListener('touchmove', function (event) {\r\n  if (event.cancelable) {\r\n    // 判断默认行为是否已经被禁用\r\n    if (!event.defaultPrevented) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n})"]}